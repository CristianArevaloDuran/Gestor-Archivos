{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/crist/Downloads/Node/gestor-de-archivos-front/components/FileCard/FileCard.js"],"sourcesContent":["import { useFiles } from \"@/context/FilesContext\"\r\nimport {useState, useRef} from \"react\";\r\n\r\nconst ICON_OPTS = {\r\n  width: '100px',\r\n  height: '100px',\r\n  color: '#E632BE'\r\n};\r\n\r\nconst ICONS = [\r\n  {\r\n    type: 'image',\r\n    mimetype: [\r\n      'image/png',\r\n      'image/jpeg'\r\n    ],\r\n    icon: (\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" height={ICON_OPTS.height} viewBox=\"0 -960 960 960\" width={ICON_OPTS.width} fill={ICON_OPTS.color}><path d=\"M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm40-80h480L570-480 450-320l-90-120-120 160Zm-40 80v-560 560Z\"/></svg>\r\n    )\r\n  },\r\n  {\r\n    type: 'pdf',\r\n    mimetype: [\r\n      'application/pdf'\r\n    ],\r\n    icon: (\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" height={ICON_OPTS.height} viewBox=\"0 -960 960 960\" width={ICON_OPTS.width}  fill={ICON_OPTS.color}><path d=\"M360-460h40v-80h40q17 0 28.5-11.5T480-580v-40q0-17-11.5-28.5T440-660h-80v200Zm40-120v-40h40v40h-40Zm120 120h80q17 0 28.5-11.5T640-500v-120q0-17-11.5-28.5T600-660h-80v200Zm40-40v-120h40v120h-40Zm120 40h40v-80h40v-40h-40v-40h40v-40h-80v200ZM320-240q-33 0-56.5-23.5T240-320v-480q0-33 23.5-56.5T320-880h480q33 0 56.5 23.5T880-800v480q0 33-23.5 56.5T800-240H320Zm0-80h480v-480H320v480ZM160-80q-33 0-56.5-23.5T80-160v-560h80v560h560v80H160Zm160-720v480-480Z\"/></svg>\r\n    )\r\n  },\r\n  {\r\n    type: 'video',\r\n    mimetype: [\r\n      'video/mp4',\r\n      'video/x-matroska'\r\n    ],\r\n    icon: (\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" height={ICON_OPTS.height} viewBox=\"0 -960 960 960\" width={ICON_OPTS.width}  fill={ICON_OPTS.color}><path d=\"m140-800 74 152h130l-74-152h89l74 152h130l-74-152h89l74 152h130l-74-152h112q24 0 42 18t18 42v520q0 24-18 42t-42 18H140q-24 0-42-18t-18-42v-520q0-24 18-42t42-18Zm0 212v368h680v-368H140Zm0 0v368-368Z\"/></svg>\r\n    )\r\n  },\r\n  {\r\n    type: 'compressed',\r\n    mimetype: [\r\n      'application/zip',\r\n      'application/x-zip-compressed',\r\n      'application/vnd.rar',\r\n      'application/x-7z-compressed'\r\n    ],\r\n    icon: (\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" height={ICON_OPTS.height} viewBox=\"0 -960 960 960\" width={ICON_OPTS.width}  fill={ICON_OPTS.color}><path d=\"M640-496v-92h92v92h-92Zm0 92h-92v-92h92v92Zm0 92v-92h92v92h-92ZM456-680l-60-60H140v520h408v-92h92v92h180v-460H640v92h-92v-92h-92ZM140-160q-24 0-42-18.5T80-220v-520q0-23 18-41.5t42-18.5h281l60 60h339q23 0 41.5 18.5T880-680v460q0 23-18.5 41.5T820-160H140Zm0-60v-520 520Z\"/></svg>\r\n    )\r\n  }\r\n]\r\n\r\nexport default function FileCard({file}) {\r\n    const {deleteFile, contextLoader} = useFiles();\r\n    const optionsRef = useRef();\r\n\r\n    const showOptions = () => {\r\n      optionsRef.current.classList.toggle('hidden')\r\n    }\r\n\r\n    const getIconMimetype = (mimetype) => {\r\n      const match = ICONS.find(icon => icon.mimetype.includes(mimetype));\r\n      \r\n      return match ? match.icon : (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" height={ICON_OPTS.height} viewBox=\"0 -960 960 960\" width={ICON_OPTS.width}  fill={ICON_OPTS.color}><path d=\"M320-240h320v-80H320v80Zm0-160h320v-80H320v80ZM240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h320l240 240v480q0 33-23.5 56.5T720-80H240Zm280-520v-200H240v640h480v-440H520ZM240-800v200-200 640-640Z\"/></svg>\r\n      )\r\n    }\r\n\r\n    const getSizeNom = (size) => {\r\n      if (size < 1024) {\r\n        return `${size} B`;\r\n      } else if (size < 1024 * 1024) {\r\n        return `${(size / 1024).toFixed(2)} KB`;\r\n      } else if (size < 1024 * 1024 * 1024) {\r\n        return `${(size / (1024 * 1024)).toFixed(2)} MB`;\r\n      } else {\r\n        return `${(size / (1024 * 1024 * 1024)).toFixed(2)} GB`;\r\n      }\r\n    };\r\n    \r\n    return (\r\n        <article className=\"flex flex-col rounded-lg bg-white p-5 w-60 h-60 shadow-xl/40 shadow-sky-200/90 items-center justify-center relative\" title={file.originalName}>\r\n          {\r\n            getIconMimetype(file.type)\r\n          }\r\n          <p className=\"font-display text-stone-600 w-full truncate max-h-24 mt-2 p-1 text-center font-black text-lg pointer-events-none selection:bg-transparent\">{file.originalName}</p>\r\n          <p className=\"font-display text-stone-600 w-full truncate p-1 text-center font-bold text-sm pointer-events-none selection:bg-transparent\">{getSizeNom(file.size)}</p>\r\n          <div className=\"absolute rounded-full flex justify-center items-center top-2 right-1 cursor-pointer\" title=\"File options\" onClick={showOptions}>\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"30px\" viewBox=\"0 -960 960 960\" width=\"30px\" fill=\"#E632BE\"><path d=\"M480-160q-33 0-56.5-23.5T400-240q0-33 23.5-56.5T480-320q33 0 56.5 23.5T560-240q0 33-23.5 56.5T480-160Zm0-240q-33 0-56.5-23.5T400-480q0-33 23.5-56.5T480-560q33 0 56.5 23.5T560-480q0 33-23.5 56.5T480-400Zm0-240q-33 0-56.5-23.5T400-720q0-33 23.5-56.5T480-800q33 0 56.5 23.5T560-720q0 33-23.5 56.5T480-640Z\"/></svg>\r\n            <div className=\"absolute top-8 right-1 bg-black rounded-lg py-2 cursor-default hidden overflow-hidden\" ref={optionsRef}>\r\n              <a className=\"font-display text-sky-50 font-bold px-4 py-2 hover:bg-gray-700 text-right block\" href={file.url} download={file.originalName}>Download</a>\r\n              <p className=\"font-display text-red-500 font-bold px-4 py-2 hover:bg-gray-700 text-right\" onClick={() => deleteFile(file.fileName)}>Delete</p>\r\n            </div>\r\n          </div>\r\n        </article>\r\n    )\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 254, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/crist/Downloads/Node/gestor-de-archivos-front/components/DownloadManager/DownloadManager.js"],"sourcesContent":["import { useFiles } from \"@/context/FilesContext\";\r\n\r\nexport default function DownloadManager() {\r\n    const {downloads} = useFiles();\r\n    \r\n    if (!downloads || downloads.length == 0) return null\r\n\r\n    return(\r\n      <div className=\"fixed bottom-5 right-5 w-80 bg-stone-900 shadow-lg rounded-lg p-4 z-50 space-y-3\">\r\n      <h3 className=\"text-gray-900 font-display font-semibold text-sm text-sky-50\">Descargas activas</h3>\r\n      {\r\n        downloads.map(download => (\r\n          <div key={download.id}>\r\n            <p className=\"text-sm font-display text-sky-100 truncate\" title={download.name}>{download.name}</p>\r\n            <div className=\"w-full bg-gray-200 rounded h-2 overflow-hidden\">\r\n              <div\r\n                className={`${download.progress !== 100 ? `bg-blue-600` : `bg-green-600`} h-full transition-all`}\r\n                style={{ width: `${download.progress}%` }}\r\n                />\r\n            </div>\r\n            <p className=\"font-display text-sky-100 text-right\">{parseInt(download.progress)}%</p>\r\n            <button className=\"text-red-600 text-xs ml-auto cursor-pointer hover:bg-stone-800 px-3 py-2 rounded-lg\"onClick={() => downloads.find(d => d.id === download.id)?.controller?.abort()}>\r\n              Cancelar</button>\r\n          </div>\r\n        ))\r\n      }\r\n      </div>\r\n    )\r\n}"],"names":[],"mappings":";;;;AAAA;;;AAEe,SAAS;IACpB,MAAM,EAAC,SAAS,EAAC,GAAG,CAAA,GAAA,uHAAA,CAAA,WAAQ,AAAD;IAE3B,IAAI,CAAC,aAAa,UAAU,MAAM,IAAI,GAAG,OAAO;IAEhD,qBACE,8OAAC;QAAI,WAAU;;0BACf,8OAAC;gBAAG,WAAU;0BAA+D;;;;;;YAE3E,UAAU,GAAG,CAAC,CAAA,yBACZ,8OAAC;;sCACC,8OAAC;4BAAE,WAAU;4BAA6C,OAAO,SAAS,IAAI;sCAAG,SAAS,IAAI;;;;;;sCAC9F,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCACC,WAAW,GAAG,SAAS,QAAQ,KAAK,MAAM,CAAC,WAAW,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,sBAAsB,CAAC;gCAChG,OAAO;oCAAE,OAAO,GAAG,SAAS,QAAQ,CAAC,CAAC,CAAC;gCAAC;;;;;;;;;;;sCAG5C,8OAAC;4BAAE,WAAU;;gCAAwC,SAAS,SAAS,QAAQ;gCAAE;;;;;;;sCACjF,8OAAC;4BAAO,WAAU;4BAAqF,SAAS,IAAM,UAAU,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,SAAS,EAAE,GAAG,YAAY;sCAAS;;;;;;;mBAT9K,SAAS,EAAE;;;;;;;;;;;AAgB/B","debugId":null}},
    {"offset": {"line": 342, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/crist/Downloads/Node/gestor-de-archivos-front/app/page.js"],"sourcesContent":["'use client';\nimport { useFiles } from \"@/context/FilesContext\";\nimport FileCard from \"@/components/FileCard/FileCard\";\nimport DownloadManager from \"@/components/DownloadManager/DownloadManager\";\n\nexport default function Home() {\n  \n  const {contextFiles, loading} = useFiles();\n\n  return (\n    <main className=\"bg-black w-dvw h-dvh flex flex-row flex-wrap gap-5 p-10 content-start justify-center overflow-auto\"> \n      {\n        loading ? (<p className=\"font-display text-sky-50\">Loading...</p>) : contextFiles.map(file => (\n          <FileCard file={file} key={file._id} />\n        ))\n      }\n      <DownloadManager />\n    </main>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AAHA;;;;;AAKe,SAAS;IAEtB,MAAM,EAAC,YAAY,EAAE,OAAO,EAAC,GAAG,CAAA,GAAA,uHAAA,CAAA,WAAQ,AAAD;IAEvC,qBACE,8OAAC;QAAK,WAAU;;YAEZ,wBAAW,8OAAC;gBAAE,WAAU;0BAA2B;;;;;uBAAkB,aAAa,GAAG,CAAC,CAAA,qBACpF,8OAAC,kIAAA,CAAA,UAAQ;oBAAC,MAAM;mBAAW,KAAK,GAAG;;;;;0BAGvC,8OAAC,gJAAA,CAAA,UAAe;;;;;;;;;;;AAGtB","debugId":null}}]
}